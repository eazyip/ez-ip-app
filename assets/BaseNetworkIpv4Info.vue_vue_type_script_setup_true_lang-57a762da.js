var y=Object.defineProperty;var x=(s,e,t)=>e in s?y(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var a=(s,e,t)=>(x(s,typeof e!="symbol"?e+"":e,t),t);import{d as k,o as c,f as V,h as n,t as u,i as b,j as h,c as m,k as w}from"./index-e2c8859e.js";class r{constructor(e){a(this,"value");a(this,"base10Value");if(!r.isValid(e))throw new A(e);this.value=e,this.base10Value=parseInt(this.value,2)}static isValid(e){return!!/^[01]{32}$/.test(e)}toDecimal(){return new o(this.octets.map(e=>parseInt(e,2).toString()).join("."))}isMask(){return this.isSequentialBits(this.value.indexOf("0"),this.value.lastIndexOf("1"))}isWildCardMask(){return this.isSequentialBits(this.value.indexOf("1"),this.value.lastIndexOf("0"))}isSequentialBits(e,t){return t===-1||e===-1||t+1===e}add(e){if(this.base10Value===4294967295)throw new Error(`The binary value ${this.value} cannot be incremented by ${e.toString(2)}`);return new r((this.base10Value+e).toString(2).padStart(32,"0"))}substract(e){if(this.base10Value-e<0)throw new Error(`The binary value ${this.value} cannot be decremented by ${e.toString(2)}`);return new r((this.base10Value-e).toString(2).padStart(32,"0"))}bitwiseAnd(e){return new r(Array.from(e.value,(t,i)=>parseInt(t)&parseInt(this.value[i])).join(""))}bitwiseOr(e){return new r(Array.from(e.value,(t,i)=>parseInt(t)|parseInt(this.value[i])).join(""))}invert(){return new r(this.value.split("").map(e=>parseInt(e)^1).join(""))}get octets(){return this.value.match(/.{1,8}/g)}get dotted(){return this.octets.join(".")}}class A extends Error{constructor(e){super(`Invalid binary IPv4 address ${e}`),this.name="InvalidBinaryFormatError"}}class o{constructor(e){a(this,"value");if(!o.isValid(e))throw new g(`Invalid decimal IPv4 address ${e}`);this.value=e}static isValid(e){const t=e.split(".");return t.length!==4?!1:t.every(i=>/^\d+$/.test(i)&&Number(i)>=0&&Number(i)<=255)}toBinary(){return new r(this.octets.map(e=>e.toString(2).padStart(8,"0")).join(""))}get octets(){return this.value.split(".").map(e=>parseInt(e,10))}}class g extends Error{constructor(e){super(`Invalid decimal IPv4 address ${e}`),this.name="InvalidDecimalIpError"}}class l{constructor(e){a(this,"label","");a(this,"decimalValue");a(this,"binaryValue");typeof e=="string"&&(e.length===32?e=new r(e):e=new o(e)),e instanceof o?(this.decimalValue=e,this.binaryValue=this.decimalValue.toBinary()):(this.binaryValue=e,this.decimalValue=this.binaryValue.toDecimal())}setLabel(e){return this.label=e,this}nextAddress(e=1){return new l(this.binaryValue.add(e))}previousAddress(){return new l(this.binaryValue.substract(1))}lesserThan(e){return this.binaryValue.base10Value<e.binaryValue.base10Value}lesserThanOrEqualTo(e){return this.binaryValue.base10Value<=e.binaryValue.base10Value}equalTo(e){return this.binaryValue.base10Value===e.binaryValue.base10Value}greaterThanOrEqualTo(e){return this.binaryValue.base10Value>=e.binaryValue.base10Value}greaterThan(e){return this.binaryValue.base10Value>e.binaryValue.base10Value}}class I extends l{constructor(e){super(e),this.label="Broadcast address"}makeLastHostAddress(){return this.previousAddress()}}class f{constructor(e){a(this,"value");a(this,"size");a(this,"minValue",0);a(this,"maxValue",32);if(e>this.maxValue||e<this.minValue)throw new Error(`Invalid prfix value ${e}`);this.value=e,this.size=Math.pow(2,this.maxValue-this.value)-2}makeMask(){return new p(new r("1".repeat(this.value).padEnd(this.maxValue,"0")))}makeWildcard(){return new v(new r("0".repeat(this.value).padEnd(this.maxValue,"1")))}}class v extends l{constructor(e){if(super(e),this.label="Wildcard mask",!this.binaryValue.isWildCardMask())throw new Error(`Invalid wildcard mask value ${this.binaryValue.value}`)}makeMask(){return new p(this.binaryValue.invert())}makeBroadcastAddress(e){return new I(this.binaryValue.bitwiseOr(e.binaryValue))}makePrefix(){return new f(this.binaryValue.value.split("").reduce((e,t)=>e+(t==="0"?1:0),0))}}class E extends l{constructor(e){super(e),this.label="Network address"}makeFirstHostAddress(){return this.nextAddress()}}class p extends l{constructor(e){if(super(e),this.label="Mask",!this.binaryValue.isMask())throw new Error(`Invalid mask value ${this.binaryValue.value}`)}makeWildcard(){return new v(this.binaryValue.invert())}makeNetworkAddress(e){return new E(this.binaryValue.bitwiseAnd(e.binaryValue))}makePrefix(){return new f(this.binaryValue.value.split("").reduce((e,t)=>e+(t==="1"?1:0),0))}}class j{constructor(e,t){a(this,"label","");a(this,"mask");a(this,"prefix");a(this,"size");a(this,"wildcardMask");a(this,"networkAddress");a(this,"firstHostAddress",null);a(this,"lastHostAddress",null);a(this,"broadcastAddress");this.mask=t,this.prefix=this.mask.makePrefix(),this.size=this.prefix.size,this.wildcardMask=this.mask.makeWildcard(),this.networkAddress=this.mask.makeNetworkAddress(e),this.broadcastAddress=this.wildcardMask.makeBroadcastAddress(e),this.prefix.value<31&&this.prefix.value>0&&(this.firstHostAddress=this.networkAddress.makeFirstHostAddress().setLabel("First host address"),this.lastHostAddress=this.broadcastAddress.makeLastHostAddress().setLabel("Last host address"))}setLabel(e){return this.label=e,this}containsAddress(e){return this.networkAddress.lesserThanOrEqualTo(e)&&this.broadcastAddress.greaterThanOrEqualTo(e)}}const $={class:"flex flex-wrap gap-1 items-center"},M={class:"w-36"},S={class:"p-1 bg-slate-300 rounded-sm text-sm font-mono"},T={class:"p-1 bg-slate-300 rounded-sm text-sm font-mono"},d=k({__name:"AddressIpv4Info",props:{address:{type:Object,required:!0},label:{type:String,required:!1}},setup(s){return(e,t)=>(c(),V("div",$,[n("p",M,u(s.label??s.address.label),1),n("p",S,u(s.address.decimalValue.value||""),1),n("p",T,u(s.address.binaryValue.dotted||""),1)]))}}),B={class:"flex flex-col gap-1 p-1"},q={class:"p-1 rounded-sm bg-slate-300 text-sm font-mono"},H={class:"p-1 rounded-sm bg-slate-300 text-sm font-mono"},P=k({__name:"BaseNetworkIpv4Info",props:{network:{type:Object,required:!0},label:{type:String,required:!1}},setup(s){return(e,t)=>(c(),V("div",B,[n("div",null,[b(" prefix: "),n("span",q,u(s.network.prefix.value),1)]),n("div",null,[b(" size: "),n("span",H,u(s.network.prefix.size),1)]),h(d,{address:s.network.networkAddress},null,8,["address"]),s.network.firstHostAddress?(c(),m(d,{key:0,address:s.network.firstHostAddress},null,8,["address"])):w("",!0),s.network.lastHostAddress?(c(),m(d,{key:1,address:s.network.lastHostAddress},null,8,["address"])):w("",!0),h(d,{address:s.network.broadcastAddress},null,8,["address"]),h(d,{address:s.network.mask},null,8,["address"]),h(d,{address:s.network.wildcardMask},null,8,["address"])]))}});export{l as A,j as B,o as D,p as M,f as P,P as _,r as a};
